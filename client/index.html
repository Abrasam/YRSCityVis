<!-- Gl Matrix - matrix library-->
<script type="text/javascript" src="gl-matrix-min.js" ></script>

<!-- Javascript stuff -->
<script>





//WebGL Access functionality
var gl;
/////
var buffer; //Vertex Buffer to push
//
var Fmatrix;
var MRmatrix;
//
var camLoc = vec3.fromValues(0,0,0);
//
var camRX = 0;
var camRY = 0;
var camRZ = 0;
//

function loadGL() {
    var canvas = document.getElementById("map");
    initGL(canvas);

    gl.clearColor(0.0, 0.0, 1.0, 1.0);
    gl.enable(gl.DEPTH_TEST);
    //INIT MATRIX BASIC
    //Basic Matrix (Perspective)

    Fmatrix = mat4.create();
    mat4.perspective(Fmatrix,80,16/9,10,100);
    //

  }

function initBuffers() {
	buffer = gl.createBuffer();
	gl.bindBuffer(gl.ARRAY_BUFFER, triangleVertexPositionBuffer);

}


function draw() {
	gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
}


function matrix_setup() {
	//Camera update
	MRmatrix = mat4.create();
	//
	mat4.translate(MRmatrix,camLoc);
	mat4.rotateX(MRmatrix,camRX);
	mat4.rotateY(MRmatrix,camRY);
	mat4.rotateZ(MRmatrix,camRZ);
	//

	//
    gl.uniformMatrix4fv(shaderProgram.Fmatrixuniform, false, Fmatrix);
    gl.uniformMatrix4fv(shaderProgram.mrmatrixuniform, false, MRmatrix);
}




///////
function initGL(canvas) {
    try {
        gl = canvas.getContext("experimental-webgl");
        gl.viewportWidth = canvas.width;
        gl.viewportHeight = canvas.height;
        alert("DEBUG: LOADED");
    } catch (e) {
    	//DEBUG
    }
    if (!gl) {
        alert("ERROR: Failed to initialise WebGL");
    }

}



//////////////////////////

//Main scripting



///// Load DATA





///INIT



//Rendering



</script>


<!-- Basic HTML Framework-->
<html>

<body id="body">

	<div id="frame_map" >

		<canvas id="map">


		</canvas>

	</div>
</body>

</html>
<!-- Style for main website outline -->
<style>

*{
	position: inherit;
}

#body {
	background-color="#FFFFDD"
}


#frame_map {
	position: inherit;
	//#left: 40px;
	//#top: 40px;
	//#height: 200px;
	//#width: 500px;
	//#
	left: 5%;
	top: 5%;
	height: 90%;
	width: 90%;
	background-color: black;
}

#map {
	left: 1px;
	right: 1px;
	height: 95%;
	width: 95%;
}


</style>
<!-- Main WEBGL BOOT!! -->

<script>
loadGL();

//Main Rendering Loop stuff

function mainLoop() {
	//
	renderLoop();
	//
	communicationLoop();
}


function renderLoop() {
	matrix_setup();
	//Render pushes

}

function communicationLoop() {
	//
}

setInterval(mainLoop,2000);//200);



</script>